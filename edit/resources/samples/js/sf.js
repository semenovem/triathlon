"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var SF=function(){function t(t){return(t=t.attributes?t.attributes.getNamedItem("class"):null)?t.value.split(" "):[]}function e(t){var e=document.createAttribute("class");return e.value=t.join(" "),e}var n,o,i={attachListener:function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{if(!t.attachEvent)throw Error("Could not attach event.");t.attachEvent("on"+e,function(){n.apply(t,arguments)})}}};return i.indexOf="function"===(n=Array.prototype.indexOf)?function(t,e){return n.call(t,e)}:function(t,e){for(var n=t.length,o=0;o<n;o++)if(t[o]===e)return o;return-1},i.accept=function(t,e){var n;t.children?(n=t.children,e(t)):"number"==typeof t.length&&(n=t);for(var o=n&&n.length||0;o--;)i.accept(n[o],e)},i.getByClass="function"==typeof(o=document.getElementsByClassName)?function(t,e){return"string"==typeof t&&(e=t,t=document),o.call(t,e)}:function(t,e){"string"==typeof t&&(e=t,t=document.getElementsByTagName("html")[0]);var n=[];return i.accept(t,function(t){i.classList.contains(t,e)&&n.push(t)}),n},i.classList={},i.classList.add=function(n,o){var i=t(n);i.push(o),n.attributes.setNamedItem(e(i))},i.classList.remove=function(n,o){var r=t(n),s=i.indexOf(r,o);-1!==s&&(r.splice(s,1),n.attributes.setNamedItem(e(r)))},i.classList.contains=function(e,n){return-1!==i.indexOf(t(e),n)},i.classList.toggle=function(t,e){this.contains(t,e)?this.remove(t,e):this.add(t,e)},i}();!function(){function t(t){for(var e in t)delete t[e]}SF.modal=function(e){function n(t){27==t.keyCode&&r.close()}e.modalClass="modal content",e.closeClass="modal-close",e.modalStyles=t,e.closeStyles=t;var o=e.afterCreate,i=e.afterClose;e.afterCreate=function(t){o&&o(t),window.addEventListener("keydown",n)},e.afterClose=function(t){i&&i(t),window.removeEventListener("keydown",n)};var r=new picoModal(e).afterCreate(e.afterCreate).afterClose(e.afterClose);return r}}(),function(){for(var t=SF.getByClass("toggler"),e=t.length;e--;)SF.attachListener(t[e],"click",function(){var t=SF.classList.contains(this,"icon-toggler-expanded")||SF.classList.contains(this,"icon-toggler-collapsed"),e=document.getElementById(this.getAttribute("data-for"));SF.classList.toggle(this,"collapsed"),SF.classList.contains(this,"collapsed")?(SF.classList.add(e,"collapsed"),t&&(SF.classList.remove(this,"icon-toggler-expanded"),SF.classList.add(this,"icon-toggler-collapsed"))):(SF.classList.remove(e,"collapsed"),t&&(SF.classList.remove(this,"icon-toggler-collapsed"),SF.classList.add(this,"icon-toggler-expanded")))})}(),function(){for(var t=SF.getByClass("tree-a"),e=t.length;e--;)SF.attachListener(t[e],"click",function(t){"H2"!==(t=t.target||t.srcElement).nodeName||SF.classList.contains(t,"tree-a-no-sub")||SF.classList.toggle(t,"tree-a-active")})}(),function(t,e){function n(t){return"object"===("undefined"==typeof Node?"undefined":_typeof(Node))?t instanceof Node:t&&"object"===_typeof(t)&&"number"==typeof t.nodeType}function o(){var t=[];return{watch:t.push.bind(t),trigger:function(e){for(var n=!0,o={preventDefault:function(){n=!1}},i=0;i<t.length;i++)t[i](e,o);return n}}}function i(t){this.elem=t}function r(t){return function(){return t().elem}}function s(e){function s(t,n){var o=e[t];return"function"==typeof o&&(o=o(n)),void 0===o?n:o}function a(){v().hide(),g().hide(),m.trigger(C)}function l(){y.trigger(C)&&a()}function c(t){return function(){return t.apply(this,arguments),C}}function u(t){if(!f){var e,n=(u=l,"number"==typeof(p=(c=s)("width","auto"))&&(p+="px"),i.div().clazz("pico-content").clazz(c("modalClass","")).stylize({display:"block",position:"fixed",zIndex:10001,left:"50%",top:"50px",width:p,"-ms-transform":"translateX(-50%)","-moz-transform":"translateX(-50%)","-webkit-transform":"translateX(-50%)","-o-transform":"translateX(-50%)",transform:"translateX(-50%)"}).stylize(c("modalStyles",{backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(c("content")).attr("role","dialog").onClick(function(t){new i(t.target).anyAncestor(function(t){return/\bpico-close\b/.test(t.elem.className)})&&u()})),o=(r=s,a=l,i.div().clazz("pico-overlay").clazz(r("overlayClass","")).stylize({display:"block",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(r("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){r("overlayClose",!0)&&a()}));e=s("closeButton",!0)?n.child().html(s("closeHtml","&#xD7;")).clazz("pico-close").clazz(s("closeClass")).stylize(s("closeStyles",{borderRadius:"2px",cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})):void 0,f={modal:n,overlay:o,close:e},d.trigger(C)}var r,a,c,u,p;return f[t]}("string"==typeof e||n(e))&&(e={content:e});var f,d=o(),p=o(),h=o(),y=o(),m=o(),g=u.bind(t,"modal"),v=u.bind(t,"overlay"),b=u.bind(t,"close"),C={modalElem:r(g),closeElem:r(b),overlayElem:r(v),show:function(){return p.trigger(C)&&(v().show(),b(),g().show(),h.trigger(C)),this},close:c(l),forceClose:c(a),destroy:function(){g=g().destroy(),v=v().destroy(),b=void 0},options:function(t){e=t},afterCreate:c(d.watch),beforeShow:c(p.watch),afterShow:c(h.watch),beforeClose:c(y.watch),afterClose:c(m.watch)};return C}i.div=function(t){var n=e.createElement("div");return(t||e.body).appendChild(n),new i(n)},i.prototype={child:function(){return i.div(this.elem)},stylize:function(t){for(var e in void 0!==(t=t||{}).opacity&&(t.filter="alpha(opacity="+100*t.opacity+")"),t)t.hasOwnProperty(e)&&(this.elem.style[e]=t[e]);return this},clazz:function(t){return this.elem.className+=" "+t,this},html:function(t){return n(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(t){return this.elem.addEventListener("click",t),this},destroy:function(){e.body.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(t,e){return this.elem.setAttribute(t,e),this},anyAncestor:function(t){for(var e=this.elem;e;){if(t(new i(e)))return!0;e=e.parentNode}return!1}},"function"==typeof t.define&&t.define.amd?t.define(function(){return s}):t.picoModal=s}(window,document);